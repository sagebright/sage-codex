/* Import Google Fonts - must be before @tailwind directives */
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;500;600;700&family=Inter:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Light mode defaults (parchment theme) */
  :root {
    --color-bg: theme('colors.parchment.100');
    --color-bg-secondary: theme('colors.parchment.200');
    --color-text: theme('colors.ink.900');
    --color-text-secondary: theme('colors.ink.600');
    --color-border: theme('colors.ink.200');
    --color-accent: theme('colors.gold.DEFAULT');
    --color-accent-hover: theme('colors.gold.600');
    --color-danger: theme('colors.blood.DEFAULT');
  }

  /* Dark mode (shadow theme) */
  .dark {
    --color-bg: theme('colors.shadow.900');
    --color-bg-secondary: theme('colors.shadow.800');
    --color-text: theme('colors.parchment.100');
    --color-text-secondary: theme('colors.parchment.300');
    --color-border: theme('colors.shadow.600');
    --color-accent: theme('colors.gold.400');
    --color-accent-hover: theme('colors.gold.300');
    --color-danger: theme('colors.blood.500');
  }

  html {
    font-family: theme('fontFamily.sans');
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-parchment-100 text-ink-900 transition-colors duration-200;
  }

  .dark body {
    @apply bg-shadow-900 text-parchment-100;
  }

  /* Typography defaults */
  h1, h2, h3, h4, h5, h6 {
    font-family: theme('fontFamily.serif');
    @apply font-semibold;
  }

  h1 {
    @apply text-heading-1;
  }

  h2 {
    @apply text-heading-2;
  }

  h3 {
    @apply text-heading-3;
  }

  h4 {
    @apply text-heading-4;
  }
}

@layer components {
  /* Fantasy button styles */
  .btn-primary {
    @apply px-4 py-2 bg-gold text-ink-950 font-medium rounded-fantasy shadow-fantasy
           hover:bg-gold-600 hover:shadow-gold-glow
           active:bg-gold-700
           transition-all duration-200
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .btn-secondary {
    @apply px-4 py-2 bg-transparent border border-ink-300 text-ink-800 font-medium rounded-fantasy
           hover:bg-ink-100 hover:border-ink-400
           active:bg-ink-200
           transition-all duration-200
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  .dark .btn-secondary {
    @apply border-parchment-400 text-parchment-100
           hover:bg-shadow-700 hover:border-parchment-300;
  }

  .btn-danger {
    @apply px-4 py-2 bg-blood text-parchment-50 font-medium rounded-fantasy shadow-fantasy
           hover:bg-blood-600 hover:shadow-blood-glow
           active:bg-blood-700
           transition-all duration-200
           disabled:opacity-50 disabled:cursor-not-allowed;
  }

  /* Fantasy card styles */
  .card {
    @apply bg-parchment-50 border border-ink-200 rounded-fantasy shadow-fantasy p-4;
  }

  .dark .card {
    @apply bg-shadow-800 border-shadow-600;
  }

  /* Fantasy input styles */
  .input {
    @apply w-full px-3 py-2 bg-parchment-50 border border-ink-300 rounded-fantasy
           text-ink-900 placeholder-ink-400
           focus:outline-none focus:ring-2 focus:ring-gold/50 focus:border-gold
           transition-all duration-200;
  }

  .dark .input {
    @apply bg-shadow-800 border-shadow-500 text-parchment-100 placeholder-parchment-500
           focus:ring-gold-400/50 focus:border-gold-400;
  }
}

@layer utilities {
  /* Streaming text cursor animation */
  .streaming-cursor::after {
    content: 'â–‹';
    @apply text-gold ml-0.5;
    animation: cursor-blink 1s step-end infinite;
  }

  .dark .streaming-cursor::after {
    @apply text-gold-400;
  }

  @keyframes cursor-blink {
    50% {
      opacity: 0;
    }
  }

  /* Typing indicator bounce animation */
  .typing-dot {
    @apply w-2 h-2 bg-gold rounded-full;
    animation: typing-bounce 1.4s infinite ease-in-out both;
  }

  .typing-dot:nth-child(1) {
    animation-delay: 0s;
  }

  .typing-dot:nth-child(2) {
    animation-delay: 0.2s;
  }

  .typing-dot:nth-child(3) {
    animation-delay: 0.4s;
  }

  @keyframes typing-bounce {
    0%, 80%, 100% {
      transform: translateY(0);
    }
    40% {
      transform: translateY(-6px);
    }
  }

  .dark .typing-dot {
    @apply bg-gold-400;
  }

  /* Fantasy text utilities */
  .text-fantasy-title {
    @apply font-serif text-display text-ink-950;
  }

  .dark .text-fantasy-title {
    @apply text-parchment-50;
  }

  /* Gold accent text */
  .text-gold-accent {
    @apply text-gold-600;
  }

  .dark .text-gold-accent {
    @apply text-gold-400;
  }

  /* Scrollbar styling for dark mode */
  .scrollbar-fantasy {
    scrollbar-width: thin;
    scrollbar-color: theme('colors.ink.300') transparent;
  }

  .dark .scrollbar-fantasy {
    scrollbar-color: theme('colors.shadow.500') transparent;
  }

  .scrollbar-fantasy::-webkit-scrollbar {
    width: 8px;
  }

  .scrollbar-fantasy::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-fantasy::-webkit-scrollbar-thumb {
    @apply bg-ink-300 rounded-full;
  }

  .dark .scrollbar-fantasy::-webkit-scrollbar-thumb {
    @apply bg-shadow-500;
  }
}
